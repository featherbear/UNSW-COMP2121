<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>ADCs and DACs - COMP2121 Musings</title><meta name=renderer content=webkit><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content=no-transform><meta http-equiv=cache-control content=no-siteapp><meta name=theme-color content=#f8f5ec><meta name=msapplication-navbutton-color content=#f8f5ec><meta name=apple-mobile-web-app-capable content=yes><meta name=apple-mobile-web-app-status-bar-style content=#f8f5ec><meta name=author content=z5206677><meta name=description content="Analogue to Digital and Digital to Analogue conversion"><meta name=keywords content=Hugo,theme,even><meta name=generator content="Hugo 0.58.2 with theme even"><link rel=canonical href=../../post/adc-and-dac/><link rel=apple-touch-icon sizes=180x180 href=../../apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=../../favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=../../favicon-16x16.png><link rel=manifest href=../../manifest.json><link rel=mask-icon href=../../safari-pinned-tab.svg color=#5bbad5><link href=../../dist/even.c2a46f00.min.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><link rel=stylesheet href=../../css/typedjs.shortcode.css><meta property=og:title content="ADCs and DACs"><meta property=og:description content="Analogue to Digital and Digital to Analogue conversion"><meta property=og:type content=article><meta property=og:url content=/post/adc-and-dac/><meta property=article:published_time content=2020-04-28T22:42:40+10:00><meta property=article:modified_time content=2020-04-28T22:42:40+10:00><meta itemprop=name content="ADCs and DACs"><meta itemprop=description content="Analogue to Digital and Digital to Analogue conversion"><meta itemprop=datePublished content=2020-04-28T22:42:40&#43;10:00><meta itemprop=dateModified content=2020-04-28T22:42:40&#43;10:00><meta itemprop=wordCount content=686><meta itemprop=keywords content><meta name=twitter:card content=summary><meta name=twitter:title content="ADCs and DACs"><meta name=twitter:description content="Analogue to Digital and Digital to Analogue conversion"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=../../ class=logo>COMP2121 Musings</a></div><div class=mobile-navbar-icon><span></span><span></span><span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=../../><li class=mobile-menu-item>Home</li></a><a href=https://github.com/featherbear/UNSW-COMP2121><li class=mobile-menu-item>GitHub</li></a><a href=../../categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=../../ class=logo>COMP2121 Musings</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=../../>Home</a></li><li class=menu-item><a class=menu-item-link href=https://github.com/featherbear/UNSW-COMP2121>GitHub</a></li><li class=menu-item><a class=menu-item-link href=../../categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>ADCs and DACs</h1><div class=post-meta><span class=post-time>2020-04-28</span></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><a href=#dac-digital-to-analogue>DAC - Digital to Analogue</a><ul><li><a href=#dac-types>DAC Types</a><ul><li><a href=#binary-weighted-dacs>Binary Weighted DACs</a></li><li><a href=#r-2r-ladder-dac>R-2R Ladder DAC</a></li></ul></li><li><a href=#resolution>Resolution</a></li><li><a href=#linearity>Linearity</a></li><li><a href=#settling-time>Settling Time</a></li><li><a href=#glitches>Glitches</a></li></ul></li><li><a href=#adc-analogue-to-digital>ADC - Analogue to Digital</a><ul><li><a href=#transducer>Transducer</a></li><li><a href=#signal-conditioner>Signal Conditioner</a></li><li><a href=#multiplexer>Multiplexer</a></li><li><a href=#sampling>Sampling</a></li><li><a href=#adc-types>ADC Types</a><ul><li><a href=#sar-successive-approximate-register>SAR - Successive Approximate Register</a></li><li><a href=#parallel-adc-flash-adc>Parallel ADC / Flash ADC</a></li><li><a href=#two-stage-parallel-adc>Two Stage Parallel ADC</a></li></ul></li><li><a href=#conversion-time>Conversion Time</a></li><li><a href=#resolution-1>Resolution</a></li><li><a href=#accuracy>Accuracy</a></li><li><a href=#linearity-1>Linearity</a></li><li><a href=#missing-codes>Missing Codes</a></li><li><a href=#aperture-time>Aperture Time</a></li><li><a href=#adc-errors>ADC Errors</a><ul><li><a href=#solutions>Solutions</a></li></ul></li></ul></li></ul></nav></div></div><div class=post-content><h1 id=dac-digital-to-analogue>DAC - Digital to Analogue</h1><p>A parallel output interface connects the DAC to the CPU.<br>Digital values are converted in a continuous signal.</p><p>A signal conditioner circuit may be placed to smoothen the quanitized nature of the output.<br>It may also provide isolation, buffering and voltage amplification if needed</p><p><img src="Screenshot from 2020-04-28 22-44-43.png" alt></p><h2 id=dac-types>DAC Types</h2><h3 id=binary-weighted-dacs>Binary Weighted DACs</h3><p><img src="Screenshot from 2020-04-28 22-45-32.png" alt></p><p>Each bit is connected to a different resistor - of weighted values.</p><p>As bits are toggled on, the combination of different active resistors are summed in the amplifier.</p><h3 id=r-2r-ladder-dac>R-2R Ladder DAC</h3><p><img src="Screenshot from 2020-04-28 22-47-04.png" alt></p><blockquote><p>OMG ELEC2133</p></blockquote><h2 id=resolution>Resolution</h2><p>The resolution is determined by the number of bits used for the smallest digital step.</p><h2 id=linearity>Linearity</h2><p>How close the output voltage aligns with the ideal value.</p><h2 id=settling-time>Settling Time</h2><p>Time taken for the output voltage to settle within an error band (Usually +- <sup>1</sup>&frasl;<sub>2</sub> LSB)</p><h2 id=glitches>Glitches</h2><p>Glitches are caused when bit wires don&rsquo;t change values at the same time as other values
They can be eliminated using a sample-and-hold method - where a device holds the changing digital values for a period of time until all the bits have changed (i.e. capacitor and switch)</p><h1 id=adc-analogue-to-digital>ADC - Analogue to Digital</h1><p>Physical analogue -&gt; [Transducer] -&gt; Electronic analogue -&gt; [Conditioner] -&gt; Electronic analogue -&gt; [(Optional) Multiplexer] -&gt; [ADC] -&gt; Electronic digital -&gt; [Processor]</p><h2 id=transducer>Transducer</h2><p>Converts physical values (ie microphone membrane) into electrical signals (either voltage or current)</p><h2 id=signal-conditioner>Signal Conditioner</h2><ul><li>Isolation and buffering - Separate the transduced electronic analogue signal from the ADC (circuitry)</li><li>Amplification - Increase the magnitude of the signal</li><li>Bandwidth limiting - Apply a low-pass filter to remove high-frequency noise, so that there is a smaller range of values to digitize</li></ul><h2 id=multiplexer>Multiplexer</h2><p>If multiple signals need to be done, it is done here before being passed to the ADC</p><h2 id=sampling>Sampling</h2><p>Claude Shannon&rsquo;s Theorem - When a signal <code>f(t) = X*sin(2*pi*f*t)</code> is to be sampled (digitised), the minimum sampling frequency must be twice the frequency</p><ul><li>Nyquist rate - Minimum frequency that ensures that each period is accurately recorded, such that the full information is preserved<ul><li>Twice the maximum frequency of a signal</li></ul></li><li>Undersampling occurs when the sampling frequency is less than the Nyquist rate<ul><li>Aliasing occurs - where unwanted components appear in the reconstructed signal</li></ul></li></ul><h2 id=adc-types>ADC Types</h2><h3 id=sar-successive-approximate-register>SAR - Successive Approximate Register</h3><p><img src="Screenshot from 2020-04-28 23-14-10.png" alt></p><p>DAC operation works by comparing an input signal with a DAC in a comparator.</p><p>Each bit is tested from the MSB to the LSB.<br>As the first bit is enabled, the DAC will output a signal which is converted to the input signal.<br>Whilst the DAC signal is lower than that of the input signal, the next bit is also turned on.</p><h3 id=parallel-adc-flash-adc>Parallel ADC / Flash ADC</h3><p><img src="Screenshot from 2020-04-28 23-17-56.png" alt></p><p><code>2^n - 1</code> comparators are used, each one comparing the input signal to a unique reference voltage.</p><p>Expensive - needs one comparator for every digital value.</p><h3 id=two-stage-parallel-adc>Two Stage Parallel ADC</h3><p><img src="Screenshot from 2020-04-28 23-25-50.png" alt></p><p>The MSB is calculated first, then the LSB is passed to a second set of comparators.</p><p>i.e. with an 8 bit, two stage parallel ADC with 4 bits first stage and 4 bits second stage<br><code>2^(floor(n/2)+1) - 2 = 30</code> comparators vs <code>2^8 - 1 = 255</code> comparators.</p><h2 id=conversion-time>Conversion Time</h2><p>Time required to complete a conversion of the input signal, without aliasing.</p><ul><li><code>f_max = 1/(2 * conversion time)</code></li><li><code>conversion time = 1/2f</code></li></ul><h2 id=resolution-1>Resolution</h2><p>The smallest analog signal which the converter will produce a digital code.</p><ul><li><code>resolution = full-scale signal / 2^n</code></li></ul><h2 id=accuracy>Accuracy</h2><p>Closeness of the digital value to the analogue signal</p><ul><li><code>Accuracy = 100% * V_resolution / V_signal</code></li></ul><h2 id=linearity-1>Linearity</h2><p>How close the digital values are to their analogue signal values</p><ul><li>Best is +- <sup>1</sup>&frasl;<sub>2</sub> LSB</li></ul><h2 id=missing-codes>Missing Codes</h2><p>Failure to output a digital signal given an analogue input</p><h2 id=aperture-time>Aperture Time</h2><p>Time it takes for the ADC to look at the input time.<br>Usually equal to the conversion time.</p><h2 id=adc-errors>ADC Errors</h2><p><img src="Screenshot from 2020-04-28 23-38-08.png" alt></p><ul><li>Noise - Induced noise in the analogue signal will produce digital conversion erorrs</li><li>Aliasing - Sampling frequency too low</li><li>Aperture - Signal variation during inspection</li></ul><p><img src="Screenshot from 2020-04-28 23-38-13.png" alt></p><h3 id=solutions>Solutions</h3><ul><li>Noise<ul><li>Reduce noise</li><li>Decrease the resolution (control the peak-peak noise)</li></ul></li><li>Aliasing<ul><li>Pick a better sampling frequency (f_good &gt;= f_nyuist = 2x max frequency of input signal )</li><li>Low-pass filter</li></ul></li><li>Aperture<ul><li>Aim to achieve <code>t_aperture = 1/(2*pi*f_max*2^n)</code></li></ul></li></ul></div><footer class=post-footer><nav class=post-nav><a class=prev href=../../post/pulse-width-modulation/><i class="iconfont icon-left"></i><span class="prev-text nav-default">Pulse-Width Modulation (PWM)</span>
<span class="prev-text nav-mobile">Prev</span></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links><a href=mailto:z5206677@student.unsw.edu.au class="iconfont icon-email" title=email></a><a href=https://www.linkedin.com/in/andrewjinmengwong/ class="iconfont icon-linkedin" title=linkedin></a><a href=https://github.com/featherbear class="iconfont icon-github" title=github></a><a href=https://www.instagram.com/_andrewjwong/ class="iconfont icon-instagram" title=instagram></a><a href=../../index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2020
<span class=heart><i class="iconfont icon-heart"></i></span><span class=author>Andrew Wong (z5206677)</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=../../dist/even.26188efa.min.js></script><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-107434487-2','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script src=../../js/typed.js@2.0.9></script><script src=../../js/typedjs.shortcode.js></script></body></html>